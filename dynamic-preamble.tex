% This file contains commands that are part of the document preamble but cannot
% be pre-compiled. The compilation fails if these are placed in preamble.tex

% We are pre-compiling the tikz package in the preamble. Now we must tell the
% externalization command to use preamble.fmt to gain the speed boost this can
% deliver
%
% We also want tikz to halt on an error and run in 'nonstopmode' so that the
% output of the tikz compilation appears on the terminal where we can track any
% errors
\tikzset{external/system call={pdflatex -fmt=preamble.fmt \tikzexternalcheckshellescape -halt-on-error -interaction=nonstopmode -jobname "\image" "\texsource"}}

% To activate tikz externalization the following command must be issued
\tikzexternalize[prefix=build/]     % We declare that image pdfs generated by tikz be kept in the build/ folder
